document.addEventListener("alpine:init",()=>{Alpine.plugin(a=>{a.directive("lazy",(b,{expression:c},{evaluate:d})=>{let a=d(c);if(a&&a.url&&"IntersectionObserver"in window){let e=new IntersectionObserver((b,c)=>{b.forEach(c=>{if(c.isIntersecting){let b=c.target;"background"===a.type?b.style.backgroundImage=`url(${a.url})`:b.src=a.url,b.onload=()=>e.unobserve(b)}})});e.observe(b)}})})})